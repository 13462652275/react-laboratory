{"version":3,"sources":["layouts/LayMain/style/logo.svg","layouts/LayLoading/index.js","layouts/LayLoading/LayLoading.jsx","layouts/LayMain/LayMain.jsx","layouts/LayMain/Header.jsx","layouts/LayMain/Sider.jsx","layouts/LayMain/Content.jsx","layouts/LayMain/index.js","pages/Main/MainMenu.jsx","pages/Main/MainHeader.jsx","pages/Main/Main.jsx","pages/Main/index.js"],"names":["module","exports","__webpack_require__","p","LayLoading","react_default","a","createElement","id","className","width","height","viewBox","fill","x","y","rx","ry","attributeName","attributeType","values","begin","dur","repeatCount","LayMain","props","wrapperClassName","concat","children","Header","Sider","trim","src","logo","alt","Content","SubMenu","Item","MainHeader","goto","item","_this","history","push","key","nextProps","is","fromJS","this","currentPathName","location","pathname","MainMenu_Sider","menu","defaultSelectedKeys","defaultOpenKeys","mode","theme","onSelect","main","map","path","title","icon","type","child","Component","handleLanguage","_ref","keyPath","update_user","language","window","reload","handleUser","_ref2","_this$props","reset_user","clearCookie","clearStorage","nextState","state","_this$props2","name","MainHeader_Header","index_es","dropdown","overlay","selectedKeys","onClick","Object","keys","languages","LanguageMenu","placement","es_button","size","Divider","style","color","connect","user","dispatch","Main","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","updateUserInfo","asyncToGenerator","regenerator_default","mark","_callee","getUserInfo","wrap","_context","prev","next","getCookie","setState","loading","stop","layouts_LayLoading","layouts_LayMain","MainMenu","Main_MainHeader","Main_Content","router","routes"],"mappings":"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","file":"static/js/6.edc91a31.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","import LayLoading from './LayLoading.jsx';\r\n\r\nexport default LayLoading;","//基础模块\r\nimport React from 'react';\r\n\r\n//样式\r\nimport './style/LayLoading.css';\r\n\r\n\r\nconst LayLoading = () => {\r\n  return (\r\n    <div id=\"screen-loading\">\r\n      <div className=\"screen-loading__viewbox\">\r\n        <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 25 30\" fill=\"#2d8cf0\">\r\n          <rect x=\"0\" y=\"9.80392\" rx=\"1.5\" ry=\"1.5\" width=\"4\" height=\"11.3922\">\r\n            <animate\r\n              attributeName=\"height\"\r\n              attributeType=\"XML\"\r\n              values=\"5;21;5\"\r\n              begin=\"0s\"\r\n              dur=\"0.6s\"\r\n              repeatCount=\"indefinite\"\r\n            />\r\n            <animate\r\n              attributeName=\"y\"\r\n              attributeType=\"XML\"\r\n              values=\"13; 5; 13\"\r\n              begin=\"0s\"\r\n              dur=\"0.6s\"\r\n              repeatCount=\"indefinite\"\r\n            />\r\n          </rect>\r\n          <rect x=\"10\" y=\"5.80392\" rx=\"1.5\" ry=\"1.5\" width=\"4\" height=\"19.3922\">\r\n            <animate\r\n              attributeName=\"height\"\r\n              attributeType=\"XML\"\r\n              values=\"5;21;5\"\r\n              begin=\"0.15s\"\r\n              dur=\"0.6s\"\r\n              repeatCount=\"indefinite\"\r\n            />\r\n            <animate\r\n              attributeName=\"y\"\r\n              attributeType=\"XML\"\r\n              values=\"13; 5; 13\"\r\n              begin=\"0.15s\"\r\n              dur=\"0.6s\"\r\n              repeatCount=\"indefinite\"\r\n            />\r\n          </rect>\r\n          <rect x=\"20\" y=\"8.19608\" rx=\"1.5\" ry=\"1.5\" width=\"4\" height=\"14.6078\">\r\n            <animate\r\n              attributeName=\"height\"\r\n              attributeType=\"XML\"\r\n              values=\"5;21;5\"\r\n              begin=\"0.3s\"\r\n              dur=\"0.6s\"\r\n              repeatCount=\"indefinite\"\r\n            />\r\n            <animate\r\n              attributeName=\"y\"\r\n              attributeType=\"XML\"\r\n              values=\"13; 5; 13\"\r\n              begin=\"0.3s\"\r\n              dur=\"0.6s\"\r\n              repeatCount=\"indefinite\"\r\n            />\r\n          </rect>\r\n        </svg>\r\n        <p className=\"screen-loading__text\">Wecome to React Laboratory</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LayLoading;","//基础模块\r\nimport React from 'react';\r\n\r\n//样式\r\nimport './style/LayMain.css';\r\n\r\nconst mainClassName = 'layout';\r\n\r\nconst LayMain = props => {\r\n  const wrapperClassName = `${ mainClassName } ${ props.className }`;\r\n  \r\n  return (\r\n    <article className={ wrapperClassName }>\r\n      { props.children }\r\n    </article>\r\n  )\r\n};\r\n\r\nexport default LayMain;","//基础模块\r\nimport React from 'react';\r\n\r\nconst headerClassName = 'layout-header';\r\n\r\nconst Header = props => {\r\n  const wrapperClassName = `${ headerClassName } ${ props.className }`;\r\n  \r\n  return (\r\n    <header className={ wrapperClassName }>\r\n      { props.children }\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","//基础模块\r\nimport React from 'react';\r\n\r\n//logo\r\nimport logo from './style/logo.svg';\r\n\r\nconst siderClassName = 'layout-sider';\r\n\r\nconst Sider = props => {\r\n  const wrapperClassName = `${ siderClassName } ${ props.className }`;\r\n  \r\n  return (\r\n    <div className={ wrapperClassName.trim() }>\r\n      <div className={ `${ siderClassName }__top` }>\r\n        <img src={ logo } alt=\"\" className={ `${ siderClassName }__logo` } />\r\n        <span className={ `${ siderClassName }__name` }>Laboratory</span>\r\n      </div>\r\n      { props.children }\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default Sider;","//基础模块\r\nimport React from 'react';\r\n\r\nconst contentClassName = 'layout-content';\r\n\r\nconst Content = props => {\r\n  const wrapperClassName = `${ contentClassName } ${ props.className }`;\r\n  \r\n  return (\r\n    <section className={ wrapperClassName }>\r\n      { props.children }\r\n    </section>\r\n  );\r\n};\r\n\r\n\r\nexport default Content;","import LayMain from './LayMain.jsx';\r\nimport Header from './Header.jsx';\r\nimport Sider from './Sider.jsx';\r\nimport Content from './Content.jsx';\r\n\r\nexport default LayMain;\r\n\r\nLayMain.Header = Header;\r\nLayMain.Sider = Sider;\r\nLayMain.Content = Content;","//基础模块\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n//路由配置\r\nimport { main } from '@/router';\r\n\r\n//第三方模块\r\nimport { fromJS, is } from 'immutable';\r\n\r\n//布局组件\r\nimport LayMain from '@/layouts/LayMain';\r\n\r\n//UI组件\r\nimport { Menu, Icon } from 'antd';\r\n\r\nconst { Sider } = LayMain;\r\nconst { SubMenu, Item } = Menu;\r\n\r\n\r\nclass MainHeader extends Component {\r\n  static propTypes = {\r\n    history: PropTypes.object,\r\n    location: PropTypes.object,\r\n  };\r\n\r\n  shouldComponentUpdate (nextProps) {\r\n    return !is(fromJS(this.props), fromJS(nextProps));\r\n  };\r\n\r\n  goto = item => {\r\n    this.props.history.push(item.key);\r\n  };\r\n\r\n  render () {\r\n    const currentPathName = this.props.location.pathname;\r\n\r\n    return (\r\n      <Sider>\r\n        <Menu\r\n          defaultSelectedKeys={[ currentPathName ]}\r\n          defaultOpenKeys={[ currentPathName ]}\r\n          mode=\"inline\"\r\n          theme=\"dark\"\r\n          onSelect={ this.goto }\r\n        >\r\n          {\r\n            main.map(item => {\r\n              if (item.children) {\r\n                return (\r\n                  <SubMenu\r\n                    key={ item.path }\r\n                    title={\r\n                      <span>\r\n                          <Icon type=\"desktop\" />\r\n                          <span>{ item.title }</span>\r\n                        </span>\r\n                    }\r\n                  >\r\n                    {\r\n                      item.children.map(child => (<Item key={ child.path }>{ child.title }</Item>))\r\n                    }\r\n                  </SubMenu>\r\n                )\r\n              } else {\r\n                return (<Item key={ item.path }>{ item.title }</Item>);\r\n              }\r\n            })\r\n          }\r\n        </Menu>\r\n      </Sider>\r\n    );\r\n  };\r\n}\r\n\r\nexport default MainHeader;","//基础模块\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\n//第三方模块\r\nimport { fromJS, is } from 'immutable';\r\n\r\n//方法\r\nimport { clearCookie } from '@/utils/cookie';\r\nimport { clearStorage } from '@/utils/local-storage';\r\n\r\n//多语言列表\r\nimport { languages } from '@/language';\r\n\r\n//布局组件\r\nimport LayMain from '@/layouts/LayMain';\r\n\r\n//多语言组件\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\n//UI组件库\r\nimport { Dropdown, Menu, Button, Icon } from 'antd';\r\n\r\nconst { Header } = LayMain;\r\n\r\n\r\nconst LanguageMenu = (language, handleLanguage) => (\r\n  <Menu\r\n    defaultSelectedKeys={[ language ]}\r\n    selectedKeys={[ language ]}\r\n    onClick={ handleLanguage }\r\n  >\r\n    {\r\n      Object.keys(languages).map(key => {\r\n        const item = languages[key];\r\n\r\n        return (\r\n          <Menu.Item key={ key }>\r\n            <span>{ item.name }</span>\r\n          </Menu.Item>\r\n        );\r\n      })\r\n    }\r\n  </Menu>\r\n);\r\n\r\nconst UserMenu = handleUser => {\r\n  return (\r\n    <Menu onClick={ handleUser }>\r\n      <Menu.Item key=\"userInfo\">\r\n        <Icon type=\"user\" />\r\n        <span>个人信息</span>\r\n      </Menu.Item>\r\n      \r\n      <Menu.Item key=\"password\">\r\n        <Icon type=\"unlock\" />\r\n        <span>修改密码</span>\r\n      </Menu.Item>\r\n      \r\n      <Menu.Divider />\r\n      \r\n      <Menu.Item key=\"logout\">\r\n        <Icon type=\"poweroff\" />\r\n        <span>注销</span>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nclass MainHeader extends Component {\r\n  static propTypes = {\r\n    history: PropTypes.object,\r\n    //Store\r\n    language: PropTypes.string,\r\n    name: PropTypes.string,\r\n    update_user: PropTypes.func,\r\n    reset_user: PropTypes.func,\r\n  };\r\n  \r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return !is(fromJS(this.props), fromJS(nextProps)) || !is(fromJS(this.state), fromJS(nextState));\r\n  };\r\n  \r\n  handleLanguage = ({ item, key, keyPath }) => {\r\n    this.props.update_user({ language: key });\r\n    window.location.reload();\r\n  };\r\n  \r\n  handleUser = ({ item, key, keyPath }) => {\r\n    const { history, reset_user } = this.props;\r\n    \r\n    switch (key) {\r\n      case 'userInfo':\r\n        break;\r\n        \r\n      case 'password':\r\n        break;\r\n        \r\n      case 'logout':\r\n        clearCookie();\r\n        clearStorage('userInfo');\r\n        reset_user();\r\n        history.push('/login');\r\n        break;\r\n        \r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  \r\n  render() {\r\n    const { language, name } = this.props;\r\n\r\n    return (\r\n      <Header className=\"main__header\">\r\n        <h2 className=\"main__title\">\r\n          <FormattedMessage id=\"main.title\" />\r\n        </h2>\r\n        \r\n        <Dropdown\r\n          overlay={ LanguageMenu(language, this.handleLanguage) }\r\n          placement=\"bottomCenter\"\r\n          className=\"main__dropdown\"\r\n        >\r\n          <div className=\"main__dropdown-title\">\r\n            <Button size=\"small\">{ languages[ language ] && languages[ language ].name }</Button>\r\n          </div>\r\n        </Dropdown>\r\n        \r\n        <Dropdown\r\n          overlay={ UserMenu(this.handleUser) }\r\n          placement=\"bottomCenter\"\r\n          className=\"main__dropdown\"\r\n        >\r\n          <div className=\"main__dropdown-title\">\r\n            <span className=\"main__dropdown-title-text\">{ name }</span>\r\n            <Icon type=\"caret-down\" style={{ color: 'rgba(0, 0, 0, .5)' }} />\r\n          </div>\r\n        </Dropdown>\r\n      </Header>\r\n    );\r\n  };\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  language: state.user.language,\r\n  name: state.user.name,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  update_user: dispatch.user.update_user,\r\n  reset_user: dispatch.user.reset_user,\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MainHeader);","//基础模块\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\n//路由配置\r\nimport { RouterView, main } from '@/router';\r\n\r\n//第三方模块\r\nimport { fromJS, is } from 'immutable';\r\n\r\n//方法\r\nimport { getCookie } from '@/utils/cookie';\r\n\r\n//样式\r\nimport './style/Main.css';\r\n\r\n//布局组件\r\nimport LayLoading from '@/layouts/LayLoading';\r\nimport LayMain from '@/layouts/LayMain';\r\n\r\n//组件\r\nimport MainMenu from './MainMenu';\r\nimport MainHeader from './MainHeader';\r\n\r\nconst { Content } = LayMain;\r\n\r\n\r\nclass Main extends Component {\r\n  static propTypes = {\r\n    history: PropTypes.object,\r\n    location: PropTypes.object,\r\n  };\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n    };\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updateUserInfo();\r\n  };\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return !is(fromJS(this.props), fromJS(nextProps)) || !is(fromJS(this.state), fromJS(nextState));\r\n  };\r\n  \r\n  updateUserInfo = async () => {\r\n    const { history, getUserInfo } = this.props;\r\n    const id = getCookie('token');\r\n\r\n    if (id) {\r\n      this.setState({ loading: true });\r\n      await getUserInfo({ id });\r\n      this.setState({ loading: false });\r\n    } else {\r\n      history.push('/login');\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { history, location } = this.props;\r\n    \r\n    return this.state.loading ? (<LayLoading />) : (\r\n      <LayMain>\r\n        <MainMenu\r\n          history={ history }\r\n          location={ location }\r\n        />\r\n\r\n        <LayMain>\r\n          <MainHeader history={ history } />\r\n\r\n          <Content>\r\n            <RouterView routes={ main } />\r\n          </Content>\r\n        </LayMain>\r\n      </LayMain>\r\n    );\r\n  };\r\n}\r\n\r\nconst mapStateToProps = () => ({});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  const { getUserInfo } = dispatch.user;\r\n  return {\r\n    getUserInfo,\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Main);","import Main from './Main.jsx';\r\n\r\nexport default Main;"],"sourceRoot":""}